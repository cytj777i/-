--åå­—Aiæƒ³çš„ å½“æ—¶åˆšæ¥è§¦è„šæœ¬ ä¸ä¼šæ”¹uiåå­— åˆæ‡’å¾—è®©Aiæ”¹å°±è¿™æ ·äº† ä¸­äºŒå°±ä¸­äºŒäº†ç‚¹å§ğŸ¤”
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")

-- åˆ›å»ºå£°æ˜æ¨ªå¹…
local function createDisclaimer()
    local disclaimerGui = Instance.new("ScreenGui")
    disclaimerGui.Name = "DisclaimerGui"
    disclaimerGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    disclaimerGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
    
    local disclaimerFrame = Instance.new("Frame")
    disclaimerFrame.Size = UDim2.new(0.6, 0, 0, 80)
    disclaimerFrame.Position = UDim2.new(0.2, 0, 0.1, 0)
    disclaimerFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    disclaimerFrame.BorderSizePixel = 0
    disclaimerFrame.Parent = disclaimerGui
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = disclaimerFrame
    
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(80, 80, 80)
    stroke.Thickness = 2
    stroke.Parent = disclaimerFrame
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, -20, 1, -20)
    textLabel.Position = UDim2.new(0, 10, 0, 10)
    textLabel.Text = "æœ¬è„šæœ¬å®Œå…¨å…è´¹ï¼Œç¦æ­¢è´©å–ï¼\nç”¨æˆ‘è„šæœ¬åœˆé’±çš„å…¨å®¶æ­»å…‰ï¼\nä½œè€…ï¼šXTTT"
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.GothamBold
    textLabel.TextSize = 16
    textLabel.TextWrapped = true
    textLabel.TextYAlignment = Enum.TextYAlignment.Center
    textLabel.Parent = disclaimerFrame
    
    -- 5ç§’åæ·¡å‡ºæ¶ˆå¤±
    wait(5)
    
    for i = 1, 10 do
        disclaimerFrame.BackgroundTransparency = i/10
        textLabel.TextTransparency = i/10
        stroke.Transparency = i/10
        wait(0.1)
    end
    
    disclaimerGui:Destroy()
end

-- å…¼å®¹æ€§æ£€æŸ¥ï¼šç¡®ä¿å¿…è¦å‡½æ•°å­˜åœ¨
if not getgenv then
    getgenv = function()
        return _G
    end
end

-- å®‰å…¨æ‰§è¡Œå‡½æ•°
local function protectedCall(func, ...)
    local success, result = pcall(func, ...)
    if not success then
        warn("æ‰§è¡Œé”™è¯¯: " .. tostring(result))
    end
    return success, result
end

local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

if not getgenv().Network then
    getgenv().Network = {
        BaseParts = {},
        Velocity = Vector3.new(14.46262424, 14.46262424, 14.46262424)
    }

    Network.RetainPart = function(Part)
        if typeof(Part) == "Instance" and Part:IsA("BasePart") and Part:IsDescendantOf(Workspace) then
            table.insert(Network.BaseParts, Part)
            protectedCall(function()
                Part.CustomPhysicalProperties = PhysicalProperties.new(0, 0, 0, 0, 0)
                Part.CanCollide = false
            end)
        end
    end

    local function EnablePartControl()
        protectedCall(function()
            LocalPlayer.ReplicationFocus = Workspace
        end)
        
        RunService.Heartbeat:Connect(function()
            protectedCall(function()
                sethiddenproperty(LocalPlayer, "SimulationRadius", math.huge)
                for _, Part in pairs(Network.BaseParts) do
                    if Part:IsDescendantOf(Workspace) then
                        Part.Velocity = Network.Velocity
                    end
                end
            end)
        end)
    end

    EnablePartControl()
end

local function ForcePart(v)
    if v:IsA("Part") and not v.Anchored and not v.Parent:FindFirstChild("Humanoid") and not v.Parent:FindFirstChild("Head") and v.Name ~= "Handle" then
        for _, x in next, v:GetChildren() do
            if x:IsA("BodyAngularVelocity") or x:IsA("BodyForce") or x:IsA("BodyGyro") or x:IsA("BodyPosition") or x:IsA("BodyThrust") or x:IsA("BodyVelocity") or x:IsA("RocketPropulsion") then
                protectedCall(function() x:Destroy() end)
            end
        end
        if v:FindFirstChild("Attachment") then
            protectedCall(function() v:FindFirstChild("Attachment"):Destroy() end)
        end
        if v:FindFirstChild("AlignPosition") then
            protectedCall(function() v:FindFirstChild("AlignPosition"):Destroy() end)
        end
        if v:FindFirstChild("Torque") then
            protectedCall(function() v:FindFirstChild("Torque"):Destroy() end)
        end
        
        protectedCall(function()
            v.CanCollide = false
            
            -- ç»™é›¶ä»¶ä¸€ä¸ªéšæœºçš„çˆ†ç‚¸åŠ›
            local randomForce = Instance.new("BodyVelocity", v)
            randomForce.Velocity = Vector3.new(
                math.random(-100, 100),
                math.random(50, 100),  -- å‘ä¸Šå¤šä¸€äº›åŠ›
                math.random(-100, 100)
            )
            randomForce.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            
            -- æ·»åŠ éšæœºæ—‹è½¬
            local randomTorque = Instance.new("BodyAngularVelocity", v)
            randomTorque.AngularVelocity = Vector3.new(
                math.random(-20, 20),
                math.random(-20, 20),
                math.random(-20, 20)
            )
            randomTorque.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
            
            -- 5ç§’ååˆ é™¤ç‰©ç†æ•ˆæœ
            delay(5, function()
                if randomForce and randomForce.Parent then
                    protectedCall(function() randomForce:Destroy() end)
                end
                if randomTorque and randomTorque.Parent then
                    protectedCall(function() randomTorque:Destroy() end)
                end
            end)
        end)
    end
end

local StarterGui = game:GetService("StarterGui")
local TextChatService = game:GetService("TextChatService")

-- åˆ›å»ºGUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "SuperRingPartsGUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

-- ä½¿ç”¨æ·±è‰²ä¸»é¢˜
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 250, 0, 200)
MainFrame.Position = UDim2.new(0.5, -125, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30) -- æ·±ç°è‰²èƒŒæ™¯
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

-- ä½¿GUIåœ†è§’
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- æ·»åŠ è¾¹æ¡†æ•ˆæœ
local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(80, 80, 80)
UIStroke.Thickness = 2
UIStroke.Parent = MainFrame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Text = "é›¶ä»¶ç ´åè€… v2.0"
Title.TextColor3 = Color3.fromRGB(255, 255, 255) -- ç™½è‰²æ–‡å­—
Title.BackgroundColor3 = Color3.fromRGB(45, 45, 45) -- ç¨æµ…çš„æ·±ç°è‰²
Title.Font = Enum.Font.GothamBold -- ç°ä»£å­—ä½“
Title.TextSize = 18
Title.Parent = MainFrame

-- æ ‡é¢˜åœ†è§’
local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 12)
TitleCorner.Parent = Title

local BreakButton = Instance.new("TextButton")
BreakButton.Size = UDim2.new(0.8, 0, 0, 40)
BreakButton.Position = UDim2.new(0.1, 0, 0.3, 0)
BreakButton.Text = "å¼€å¯ç ´å"
BreakButton.BackgroundColor3 = Color3.fromRGB(220, 0, 0) -- çº¢è‰²æŒ‰é’®
BreakButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- ç™½è‰²æ–‡å­—
BreakButton.Font = Enum.Font.GothamBold
BreakButton.TextSize = 16
BreakButton.Parent = MainFrame

-- ç ´åæŒ‰é’®åœ†è§’
local BreakCorner = Instance.new("UICorner")
BreakCorner.CornerRadius = UDim.new(0, 8)
BreakCorner.Parent = BreakButton

-- æŒ‰é’®æ‚¬åœæ•ˆæœ
BreakButton.MouseEnter:Connect(function()
    if BreakButton.Text == "å¼€å¯ç ´å" then
        BreakButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50) -- æ›´äº®çš„çº¢è‰²
    else
        BreakButton.BackgroundColor3 = Color3.fromRGB(50, 220, 50) -- æ›´äº®çš„ç»¿è‰²
    end
end)

BreakButton.MouseLeave:Connect(function()
    if BreakButton.Text == "å¼€å¯ç ´å" then
        BreakButton.BackgroundColor3 = Color3.fromRGB(220, 0, 0) -- æ¢å¤çº¢è‰²
    else
        BreakButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0) -- æ¢å¤ç»¿è‰²
    end
end)

local Watermark = Instance.new("TextLabel")
Watermark.Size = UDim2.new(1, 0, 0, 20)
Watermark.Position = UDim2.new(0, 0, 1, -25)
Watermark.Text = "è„šæœ¬ä½œè€… XTTT"
Watermark.TextColor3 = Color3.fromRGB(180, 180, 180) -- æµ…ç°è‰²æ–‡å­—
Watermark.BackgroundTransparency = 1
Watermark.Font = Enum.Font.Gotham
Watermark.TextSize = 12
Watermark.Parent = MainFrame

-- æ·»åŠ çŠ¶æ€æŒ‡ç¤ºå™¨
local StatusIndicator = Instance.new("Frame")
StatusIndicator.Size = UDim2.new(0, 10, 0, 10)
StatusIndicator.Position = UDim2.new(0.05, 0, 0.75, 0)
StatusIndicator.BackgroundColor3 = Color3.fromRGB(220, 0, 0) -- çº¢è‰²è¡¨ç¤ºå…³é—­
StatusIndicator.Parent = MainFrame

local StatusCorner = Instance.new("UICorner")
StatusCorner.CornerRadius = UDim.new(1, 0)
StatusCorner.Parent = StatusIndicator

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0, 80, 0, 20)
StatusLabel.Position = UDim2.new(0.15, 0, 0.73, 0)
StatusLabel.Text = "çŠ¶æ€: å…³é—­"
StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.TextSize = 12
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left
StatusLabel.Parent = MainFrame

-- æ·»åŠ æœ€å°åŒ–æŒ‰é’®
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Size = UDim2.new(0, 25, 0, 25)
MinimizeButton.Position = UDim2.new(1, -30, 0, 5)
MinimizeButton.Text = "-"
MinimizeButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60) -- æ·±ç°è‰²
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- ç™½è‰²
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.TextSize = 16
MinimizeButton.Parent = MainFrame

-- æœ€å°åŒ–æŒ‰é’®åœ†è§’
local MinimizeCorner = Instance.new("UICorner")
MinimizeCorner.CornerRadius = UDim.new(0, 12)
MinimizeCorner.Parent = MinimizeButton

-- æœ€å°åŒ–åŠŸèƒ½
local minimized = false
MinimizeButton.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        MainFrame:TweenSize(UDim2.new(0, 250, 0, 40), "Out", "Quad", 0.3, true)
        MinimizeButton.Text = "+"
        BreakButton.Visible = false
        Watermark.Visible = false
    StatusIndicator.Visible = false
        StatusLabel.Visible = false
    else
        MainFrame:TweenSize(UDim2.new(0, 250, 0, 200), "Out", "Quad", 0.3, true)
        MinimizeButton.Text = "-"
        BreakButton.Visible = true
        Watermark.Visible = true
        StatusIndicator.Visible = true
        StatusLabel.Visible = true
    end
end)

-- ä½¿GUIå¯æ‹–åŠ¨
local dragging
local dragInput
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- æ·»åŠ çŠ¶æ€å˜é‡
local isEnabled = false

-- æŒ‰é’®åŠŸèƒ½
BreakButton.MouseButton1Click:Connect(function()
    -- åˆ‡æ¢çŠ¶æ€
    isEnabled = not isEnabled
    
    -- æ ¹æ®çŠ¶æ€æ”¹å˜æŒ‰é’®é¢œè‰²å’Œæ–‡æœ¬
    if isEnabled then
        BreakButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0) -- ç»¿è‰²è¡¨ç¤ºå¼€å¯
        BreakButton.Text = "å…³é—­ç ´å"
        StatusIndicator.BackgroundColor3 = Color3.fromRGB(0, 220, 0) -- ç»¿è‰²çŠ¶æ€æŒ‡ç¤º
        StatusLabel.Text = "çŠ¶æ€: å¼€å¯"
        
        -- å¯¹å·¥ä½œç©ºé—´ä¸­çš„æ‰€æœ‰é›¶ä»¶åº”ç”¨ForcePartå‡½æ•°
        for _, obj in pairs(Workspace:GetDescendants()) do
            if obj:IsA("Part") and not obj.Anchored and not obj.Parent:FindFirstChild("Humanoid") and not obj.Parent:FindFirstChild("Head") and obj.Name ~= "Handle" then
                ForcePart(obj)
            end
        end
        
        StarterGui:SetCore("SendNotification", {
            Title = "é›¶ä»¶ç ´åè€…",
            Text = "ç ´ååŠŸèƒ½å·²å¼€å¯ï¼é›¶ä»¶æ­£åœ¨å´©é£ï¼",
            Duration = 3
        })
    else
        BreakButton.BackgroundColor3 = Color3.fromRGB(220, 0, 0) -- çº¢è‰²è¡¨ç¤ºå…³é—­
        BreakButton.Text = "å¼€å¯ç ´å"
        StatusIndicator.BackgroundColor3 = Color3.fromRGB(220, 0, 0) -- çº¢è‰²çŠ¶æ€æŒ‡ç¤º
        StatusLabel.Text = "çŠ¶æ€: å…³é—­"
        
        StarterGui:SetCore("SendNotification", {
            Title = "é›¶ä»¶ç ´åè€…",
            Text = "ç ´ååŠŸèƒ½å·²å…³é—­",
            Duration = 3
        })
    end
end)

-- å‘é€å¯åŠ¨é€šçŸ¥
StarterGui:SetCore("SendNotification", {
    Title = "é›¶ä»¶ç ´åè€…",
    Text = "è„šæœ¬å·²åŠ è½½ï¼Œå‡†å¤‡ç ´åé›¶ä»¶",
    Duration = 5
})

-- æ·»åŠ è‡ªåŠ¨æ£€æµ‹å¹¶ç ´åæ–°é›¶ä»¶çš„åŠŸèƒ½
local function autoDetectAndBreakParts()
    Workspace.DescendantAdded:Connect(function(descendant)
        if isEnabled and descendant:IsA("Part") and not descendant.Anchored and 
           not descendant.Parent:FindFirstChild("Humanoid") and 
           not descendant.Parent:FindFirstChild("Head") and 
           descendant.Name ~= "Handle" then
            -- ç¨ç­‰ç‰‡åˆ»ç¡®ä¿é›¶ä»¶å®Œå…¨åŠ è½½
            wait(0.1)
            ForcePart(descendant)
        end
    end)
end

-- å¯åŠ¨è‡ªåŠ¨æ£€æµ‹
autoDetectAndBreakParts()

-- æ˜¾ç¤ºå£°æ˜æ¨ªå¹…
createDisclaimer()